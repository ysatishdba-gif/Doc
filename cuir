# %% Check: are your CUIs in the graph at all?
after_sab_cuis = [...]  # your CUIs after SAB filter

in_graph = [c for c in after_sab_cuis if network.has_node(c)]
not_in_graph = [c for c in after_sab_cuis if not network.has_node(c)]

print(f"CUIs after SAB: {len(after_sab_cuis)}")
print(f"Found in graph: {len(in_graph)}")
print(f"NOT in graph:   {len(not_in_graph)}")

# %% Check: do they have parent-child edges between them?
cui_set = set(after_sab_cuis)
edge_count = 0
pairs = []
for cui in in_graph[:500]:  # sample first 500
    for parent in network.predecessors(cui):
        if parent in cui_set:
            edge_count += 1
            pairs.append((parent, cui))

print(f"Parent-child edges within your CUI set: {edge_count}")
print(f"Sample pairs (first 10):")
for p, c in pairs[:10]:
    print(f"  {p} â†’ {c}")
