# %% What did the API extract?
cuis = extractor.extract(text)
print(f"API extracted: {len(cuis)} CUIs")

# %% What SABs do they actually have?
metadata = system.fetcher.fetch(cuis)
print(f"Metadata found: {len(metadata)}/{len(cuis)}")

sab_counts = {}
for c, m in metadata.items():
    for sab in m.source_vocabs:
        sab_counts[sab] = sab_counts.get(sab, 0) + 1

print("\nSABs in your CUIs:")
for sab, count in sorted(sab_counts.items(), key=lambda x: -x[1]):
    print(f"  {sab}: {count}")

# %% What's your allowed list?
print(f"\nAllowed SABs: {ALLOWED_SABS}")
```

This will show something like:
```
API extracted: 150 CUIs
Metadata found: 148/150

SABs in your CUIs:
  NCI: 120
  MSH: 95
  SNOMEDCT_US: 1    ‚Üê only 1 matches your allowed list
  CHV: 80
  MTH: 60
