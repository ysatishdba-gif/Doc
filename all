# ============= STEP 1: Run LEFT HAND SIDE =============
# File: lhs_pipeline.py
from lhs_pipeline import LeftHandSide, CONFIG as LHS_CONFIG

lhs = LeftHandSide(LHS_CONFIG)
lhs_result = lhs.process("grams")
# Output: lhs_reduced_graph.pkl, lhs_embeddings.pkl


# ============= STEP 2: Run RIGHT HAND SIDE =============
# File: rhs_pipeline.py
from rhs_pipeline import RightHandSide, CONFIG as RHS_CONFIG

rhs = RightHandSide(RHS_CONFIG)
document_topics = [
    "patient weight measured in grams",
    "gram stain laboratory test",
    "medication dosage in grams"
]
rhs_result = rhs.process(document_topics)
# Output: rhs_topic_graph.pkl, rhs_embeddings.pkl


# ============= STEP 3: Run MATCHING =============
# File: matching_logic.py
from matching_logic import run_matching

results_df, stats = run_matching()
# Output: cui_matches.csv, cui_stats.json, cui_matches_detailed.json
